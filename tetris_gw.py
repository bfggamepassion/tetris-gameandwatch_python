#Programme principal
import pygame

#Definition des pièces de Tetris et de leur rotation
pieceData = [
	[0,0,1,0,0, 
	 0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,0,0,0], 
	
	[0,1,1,1,1,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,0,0,0], 	

	[0,1,1,1,1,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
#--------------------------------------------------------
	[0,0,0,0,0, 
	 0,1,1,1,0,
	 0,0,0,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
	
	[0,0,1,0,0,
	 0,0,1,0,0,
	 0,1,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,1,0,0,0,
	 0,1,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,1,1,0,
	 0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
#--------------------------------------------------------
	[0,0,0,0,0,
	 0,1,1,1,0, 
	 0,1,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
	
	[0,1,1,0,0,
	 0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,0,1,0,
	 0,1,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,1,0,0,
	 0,0,1,0,0,
	 0,0,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0],
#--------------------------------------------------------
	[0,0,1,1,0, 
	 0,0,1,1,0, 
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
	
	[0,0,1,1,0,
	 0,0,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,1,1,0,
	 0,0,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,1,1,0,
	 0,0,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
#--------------------------------------------------------
	[0,0,0,0,0,
	 0,1,1,1,0, 
	 0,0,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
	
	[0,0,1,0,0,
	 0,1,1,0,0,
	 0,0,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,1,0,0,
	 0,1,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,1,0,0,
	 0,0,1,1,0,
	 0,0,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 
#--------------------------------------------------------
	[0,0,0,0,0,
	 0,0,0,0,0,
	 0,1,1,0,0, 
	 0,0,1,1,0,
	 0,0,0,0,0], 
	
	[0,0,0,0,0,
	 0,0,1,0,0,
	 0,1,1,0,0,
	 0,1,0,0,0,
	 0,0,0,0,0], 	

	[0,0,0,0,0,
	 0,1,1,0,0,
	 0,0,1,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,0,0,0,
	 0,0,0,1,0,
	 0,0,1,1,0,
	 0,0,1,0,0,
	 0,0,0,0,0], 
#--------------------------------------------------------
	[0,0,1,1,0,  
	 0,1,1,0,0,
	 0,0,0,0,0, 
	 0,0,0,0,0,
	 0,0,0,0,0], 
	
	[0,0,1,0,0,
	 0,0,1,1,0,
	 0,0,0,1,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,0,0,0,0,
	 0,0,1,1,0,
	 0,1,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0], 	

	[0,1,0,0,0,
	 0,1,1,0,0,
	 0,0,1,0,0,
	 0,0,0,0,0,
	 0,0,0,0,0]
 ]

cst_gamezone = [
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    2,2,2,2,0,0,0,0,2,2,2,2,
    2,2,2,2,0,0,0,0,2,2,2,2,
    2,2,2,2,0,0,0,0,2,2,2,2,
    2,2,2,2,0,0,0,0,2,2,2,2,    
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    2,2,2,2,2,2,2,2,2,2,2,2    
]

gamezone = [
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0,
    0,0,0,0,0,0,0,0,0,0,0,0
]

def init_gamezone():
    global gamezone
    global cst_gamezone
    for x in range(12):
        for y in range(16):
            gamezone[y*12+x]=cst_gamezone[y*12+x]

def print_gamezone():
    for y in range(16):
        print("\n")
        for x in range(12):
            print(gamezone[y*12+x],end='')


def render(decalx,decaly):
    global images
    global screen
    global fond
    
    screen.blit(fond,(decalx,decaly))

    for y in range(8):
        for x in range(12):
            i_index = gamezone[y*12+x]
            i = images[i_index]
            screen.blit(i, ((decalx+(x*16))+140, (decaly+(y*16))+50))

    for y in range(8):
        for x in range(12):
            i_index = gamezone[(y+7)*12+x]
            i = images[i_index]
            screen.blit(i, ((decalx+(x*16)+145), decaly+((y+7)*16)+140))
            
init_gamezone()
print_gamezone()

# Créer la fenêtre d'affichage
screen = pygame.display.set_mode((640, 480))

# Charger les images
images = [
	pygame.image.load("images/blank.png").convert(),
    pygame.image.load("images/brique.png").convert(),
    pygame.image.load("images/mur.png").convert(),
]	

fond = pygame.image.load("images/gw.jpg").convert()

running = True

clock = pygame.time.Clock()
while running:
    # Gestion des événements
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
            
	# Effacer l'écran
    #screen.fill((255, 255, 255))  # Blanc		
    render (0,0)
    
    pygame.display.flip()

    clock.tick(60)
    
pygame.quit()